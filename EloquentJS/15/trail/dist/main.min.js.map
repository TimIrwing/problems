{"version":3,"sources":["../src/main.js"],"names":[],"mappings":"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","file":"main.min.js","sourcesContent":["document.body.onload = trailsAnimation();\r\n\r\nfunction trailsAnimation() {\r\n  const trailsState = [\r\n    {\r\n      offsetTop: -60,\r\n      offsetLeft: -60,\r\n    },\r\n  ];\r\n\r\n  for (let i = 1; i <= 20; ++i) {\r\n    const trail = document.body.appendChild(document.createElement(`div`));\r\n\r\n    trail.style.left = `${(i + 1) * -60}px`;\r\n    trail.style.top = `${(i + 1) * -60}px`;\r\n    trail.style.zIndex = 1;\r\n    trail.className = `trail`;\r\n\r\n    trailsState.push(trail);\r\n  }\r\n\r\n  window.addEventListener(`mousemove`, trail);\r\n  window.addEventListener(\r\n    `touchmove`,\r\n    (event) => {\r\n      trail({\r\n        pageX: event.touches[0].pageX,\r\n        pageY: event.touches[0].pageY,\r\n      });\r\n      event.preventDefault();\r\n    },\r\n    { passive: false }\r\n  );\r\n\r\n  function trail(event) {\r\n    requestAnimationFrame(() => {\r\n      const cursorOffsetLeft = event.pageX;\r\n      const cursorOffsetTop = event.pageY;\r\n\r\n      const trailsStateLocal = createLocalState(trailsState);\r\n\r\n      for (let i = 1; i < trailsState.length; ++i) {\r\n        const trail = trailsState[i];\r\n        const trailPrev = trailsStateLocal[i - 1];\r\n\r\n        const x = trailPrev.offsetLeft - trail.offsetLeft;\r\n        const y = trail.offsetTop - trailPrev.offsetTop;\r\n\r\n        const angle = calcAngle(x, y);\r\n\r\n        if (i === 1) {\r\n          document.body.style.cursor = chooseCursor(angle);\r\n        }\r\n\r\n        const distance = Math.sqrt(Math.pow(x, 2) + Math.pow(y, 2));\r\n        if (distance < 40) {\r\n          break;\r\n        }\r\n\r\n        trail.style.left = trailPrev.offsetLeft + `px`;\r\n        trail.style.top = trailPrev.offsetTop + `px`;\r\n\r\n        trail.style.transform = `rotate(${angle * -1 + Math.PI / 2}rad)`;\r\n        trail.style.boxShadow = `${x}px ${y}px 12px 0 #16171844`;\r\n      }\r\n\r\n      trailsState[0] = {\r\n        offsetTop: cursorOffsetTop - 30,\r\n        offsetLeft: cursorOffsetLeft - 7.5,\r\n      };\r\n    });\r\n  }\r\n\r\n  function createLocalState(state) {\r\n    const local = [];\r\n\r\n    for (let i = 0; i < state.length; ++i) {\r\n      local[i] = {\r\n        offsetLeft: state[i].offsetLeft,\r\n        offsetTop: state[i].offsetTop,\r\n      };\r\n    }\r\n\r\n    return local;\r\n  }\r\n\r\n  function calcAngle(x, y) {\r\n    if (x > 0 && y >= 0) {\r\n      return Math.atan(y / x);\r\n    }\r\n    if (x > 0 && y <= 0) {\r\n      return Math.atan(y / x);\r\n    }\r\n    if (x < 0 && y >= 0) {\r\n      return Math.atan(y / x) + Math.PI;\r\n    }\r\n    if (x < 0 && y <= 0) {\r\n      return Math.atan(y / x) + Math.PI;\r\n    }\r\n\r\n    if (x === 0) {\r\n      if (y > 0) return Math.PI / 2;\r\n      if (y < 0) return 3 * Math.PI / 2;\r\n    }\r\n\r\n    return 0;\r\n  }\r\n\r\n  function chooseCursor(angle) {\r\n    const section = Math.PI / 8;\r\n    angle = angle % Math.PI;\r\n    switch (Math.floor(angle / section)) {\r\n      case 0:\r\n      case 7:\r\n        return `ew-resize`;\r\n\r\n      case 1:\r\n      case 2:\r\n        return `nesw-resize`;\r\n\r\n      case 3:\r\n      case 4:\r\n        return `ns-resize`;\r\n\r\n      case 5:\r\n      case 6:\r\n        return `nwse-resize`;\r\n    }\r\n  }\r\n}\r\n"]}